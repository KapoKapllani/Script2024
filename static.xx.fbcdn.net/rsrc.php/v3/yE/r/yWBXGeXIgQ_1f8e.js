;/*FB_PKG_DELIM*/

__d("CometMessengerState",["Promise","asyncToGeneratorRuntime","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=window.navigator)==null?void 0:(b=b.locks)==null?void 0:b.query==null?void 0:b.query());b=b==null?void 0:b.pending.filter(function(b){return b.name.indexOf(a)===0}).map(function(a){return a.name});return b});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=window.navigator)==null?void 0:(b=b.locks)==null?void 0:b.query==null?void 0:b.query());b=b==null?void 0:b.held.filter(function(b){return b.name.indexOf(a)===0}).map(function(a){return a.name});return b});return k.apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(a=(yield (a=window.navigator)==null?void 0:(a=a.locks)==null?void 0:a.query==null?void 0:a.query()))!=null?a:{};return JSON.stringify(a)});return m.apply(this,arguments)}function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(a=c("ifRequired")("ReStoreNameUtils",function(a){return a}))!=null?a:null;if(!a)return;var d=a.lsPlatformLockName;a=a.reStoreCMLockName;a=(yield b("Promise").all([h(a),yield j(d),yield l()]));d=a[0];var e=a[1];a=a[2];d=(d.length>0?"\u274c ":"")+d.length;e=(e.length<1?"\u274c ":"")+e.length;return{lsPlatformLockHeld:e,rawLocksState:a,restoreLockPending:d}});return n.apply(this,arguments)}g.dump=a}),98);
__d("NetworkErrors",["performance"],(function(a,b,c,d,e,f,g){function a(){var a;a=(a=c("performance")==null?void 0:c("performance").getEntries())!=null?a:[];return a.filter(function(a){return a.responseStatus===0&&a.transferSize<=0&&a.initiatorType==="script"}).length}function b(){var a;a=(a=c("performance")==null?void 0:c("performance").getEntries())!=null?a:[];return a.filter(function(a){return a.responseStatus===0&&a.transferSize<=0&&a.initiatorType==="xmlhttprequest"&&a.name.indexOf("api/graphql/index.html")>=0}).length}function d(){var a;a=(a=c("performance")==null?void 0:c("performance").getEntries())!=null?a:[];return a.filter(function(a){return a.responseStatus===0&&a.transferSize<=0&&a.initiatorType==="xmlhttprequest"&&a.name.indexOf("ajax/bootloader-endpoint/index.html")>=0}).length}g.getScriptErrorCounts=a;g.getRelayErrorCounts=b;g.getBootloaderErrorCounts=d}),98);
__d("CometBugReportStateUtils",["Bootloader","ClientConsistency","CometMessengerState","NetworkErrors","PromiseMonitor","asyncToGeneratorRuntime","gkx","ifRequired","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a,b){a in h&&c("recoverableViolation")("Key collision for key "+a+" in CometBugReportStateUtils. Use a different key to prevent overwriting existing bug report state.","comet_ui"),h[a]=b}function e(){h={}}function i(){return{bootloader:d("NetworkErrors").getBootloaderErrorCounts(),relay:d("NetworkErrors").getRelayErrorCounts(),script:d("NetworkErrors").getScriptErrorCounts()}}function j(){var a,b,e,f;a=(a=c("ifRequired")("InteractionTracingMetrics",function(a){return a.dump()}))!=null?a:null;b=(b=c("ifRequired")("CometFeedUnitDebugInfoState",function(a){return a.getStateSnapshot()}))!=null?b:null;e=(e=c("ifRequired")("CometNewsfeedOrderingDebuggingState",function(a){return a.dump()}))!=null?e:null;f=(f=c("ifRequired")("CometTailLoadDebugger",function(a){return a.dump()}))!=null?f:null;var g=c("gkx")("708253")?"OutlineEditor":"DraftjsEditor",j=c("qex")._("832")===!0?"CommentsAPI":"DisplayComments",k=i(),l={pending:Object.fromEntries(c("Bootloader").getBootloadPendingComponents())},m={pendingRefresh:c("ClientConsistency").getPendingRefresh()},n=d("PromiseMonitor").dump();k={networkErrors:k,wasOffline:(k=c("ifRequired")("NetworkStatus",function(a){return a.wasOffline()}))!=null?k:!1};return babelHelpers["extends"]({},h,{BootloaderState:l,ClientConsistency:m,CometFeedUnitDebugInfoState:b,CometNewsfeedOrderingDebuggingState:e,CometTailLoadDebuggerSnapshot:f,CometUFIEditorImplementation:g,CometUFIListImplementation:j,InteractionTracingMetricsState:a,NetworkStatus:k,pendingPromises:n})}function f(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=j(),b=(yield d("CometMessengerState").dump());return babelHelpers["extends"]({},a,{CometMessengerStateSnapshot:b})});return k.apply(this,arguments)}g.addStateEntry=a;g.clearStateEntries=e;g.getStateSnapshot=j;g.getAsyncStateSnapshot=f}),98);
__d("FBRTCBugReportStateUtils",["ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{fluxState:c("ifRequired")("RTWebFluxDebugger",function(a){return a.fluxDumpState()}),recoilStore:c("ifRequired")("ZenonRecoilStoreDump",function(a){return a.serialize()}),zenonCallsModel:c("ifRequired")("ZenonCallsModelEmitter",function(a){a=a.CallsModelEmitterInstance;return a.getCallsModel()}),zenonUIDebugState:c("ifRequired")("ZenonDebugStoreDump",function(a){return a.serialize()})}}g.getStateSnapshot=a}),98);
__d("MediaStream",[],(function(a,b,c,d,e,f){"use strict";a=window.MediaStream||window.webkitMediaStream;f["default"]=a}),66);
__d("MessagingBugReportStateUtils",["CurrentUser","ifRequired","killswitch"],(function(a,b,c,d,e,f,g){"use strict";var h="N/A",i=function(){return h};function a(){var a=h,b=h;c("ifRequired")("ChatSidebarVisibility",function(c){a=c.isSidebarVisible(),b=c.isBuddyListVisible()});var d=h,e=h;c("ifRequired")("MercurySyncDeltaHolder",function(a){a=a.get();d=a.getLastSeqID();e=a.getTop()||e});return{channel_connection:c("ifRequired")("ChannelConnection",function(a){return!a.disconnected()},i),mqtt_enabled:!0,buddylist_visible:b,sidebar_visible:a,tab_id:c("ifRequired")("ChannelClientID",function(a){return a.getID()},i),channel_host:c("ifRequired")("ChannelManager",function(a){return a.getConfig("fullHost")+"."+a.getConfig("domain")},i),processedSeqID:d,receivedSeqID:e,messengerState:c("ifRequired")("MessengerState.bs",function(a){if(c("killswitch")("MESSENGER_WEB_STOP_LOG_MESSENGER_STATE_INTO_BUG_REPORT"))return"";var b=c("CurrentUser").getID(),d=a.getThreadIDs_debug(b)||[],e={};d.forEach(function(d){var f=a.getCurrentlyLoadedMessages(c("CurrentUser").getID(),d);e[d]={};e[d].hasLoadedMessages=a.hasLoadedNMessages(b,d,1);Array.isArray(f)&&f.length>0&&(e[d].lastMessageID=f[f.length-1].message_id)});return JSON.stringify(e)},i)}}g.getStateSnapshot=a}),98);
__d("ModuleDependencies",["__debug"],(function(a,b,c,d,e,f){function g(a,c,d){var e=b("__debug").modulesMap[d],f=b("__debug").deps;if(c[d])return;c[d]=!0;if(!e){f[d]&&(a[d]=!0);return}if(!e.dependencies||!e.dependencies.length){e.waiting&&(a[d]=!0);return}e.dependencies.forEach(function(b){g(a,c,b)})}function a(a){var b={};g(b,{},a);a=Object.keys(b);a.sort();return a}function c(){var a={loading:{},missing:[]},c={},d=b("__debug").getModules(),e=b("__debug").deps;for(var f in d){var h=d[f];if(h.waiting){var i={};g(i,{},h.id);delete i[h.id];a.loading[h.id]=Object.keys(i);a.loading[h.id].sort();a.loading[h.id].forEach(function(a){!(a in d)&&e[a]&&(c[a]=1)})}}a.missing=Object.keys(c);a.missing.sort();return a}d={getMissing:a,getNotLoadedModules:c};e.exports=d}),null);
__d("SharedWorkerBugReportUtils",["ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("ifRequired")("SharedWorkerStorageManager",function(a){return JSON.stringify(a.getDebugState())}))!=null?a:null}g.getSharedWorkerState=a}),98);
__d("VideoPlayerBugReportConfigStateUtils",["ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("ifRequired")("VideoPlayerContextSensitiveConfigResolver",function(a){var b=new a(),c=a.getPayload(),d=a.getSources();a={};d!=null&&(a=Object.keys(d.sources_by_parameter).reduce(function(a,c){var e=d.sources_by_parameter[c];e.type==="QUICK_EXPERIMENT"&&e.name!=null&&(a[c]={experiment:e.name,value:b.getValue(c)});return a},{}));return{config:c,parameters_from_experiments:a}}))!=null?a:null}g.getStateSnapshot=a}),98);
__d("WorkGalahadBugReportStateUtils",["ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("ifRequired")("MessengerURIStore",function(a){return a}),b=c("ifRequired")("WorkGalahadNavStore",function(a){return a}),d=c("ifRequired")("WorkSkeletonState",function(a){return a});return{messenger:a?{uriState:a.getState()}:null,nav:b?{activeEntityKey:b.getActiveEntityKey(),stackedChannelData:b.getStackedChannelData(),selectedAppTabID:b.getSelectedAppTabID()}:null,viewport:d?h(d):null}}function h(a){a=a.ViewportStateContext.currentValue();var b=a.entityColumnWidth,c=a.navColumnWidth,d=a.navColumnXOffset,e=a.viewportHeight;a=a.viewportWidth;return{entityColumnWidth:b,navColumnWidth:c,navColumnXOffset:d,viewportHeight:e,viewportWidth:a}}g.getStateSnapshot=a}),98);
__d("DataCollector",["CometBugReportStateUtils","Env","ErrorPubSub","FBRTCBugReportStateUtils","LogHistory","MediaStream","MessagingBugReportStateUtils","ModuleDependencies","SharedWorkerBugReportUtils","URI","VideoPlayerBugReportConfigStateUtils","WorkGalahadBugReportStateUtils","asyncToGeneratorRuntime","cr:4058","cr:5904","gkx","ifRequired","performance"],(function(a,b,c,d,e,f,g){var h,i,j,k,l={};function m(a){try{return typeof a.toString==="function"&&a.toString!==Object.prototype.toString?"[object toString='"+a.toString()+"']":"[object "+((a=(a=a.constructor)==null?void 0:a.name)!=null?a:"Unknown")+"]"}catch(a){return"Failed to stringify object"}}function n(a){var c=new Set();return JSON.stringify(a,function(a,d){if(typeof b("MediaStream")!=="undefined"&&d instanceof b("MediaStream"))return"[mediaStream id="+d.id+"]";if(typeof d==="function")return"[function]";if(typeof d==="object"&&d!=null){if(d.constructor===Array||d.constructor===Object||d.constructor===Set||d.constructor===Map){if(c.has(d))return"[circular reference toString='"+m(d)+"']";c.add(d);return d.constructor===Map||d.constructor===Set?Array.from(d):d}return m(d)}return d})}Object.assign(l,{stringify:n,_metadata:{},_logs:{},addMetadata:function(a){Object.assign(l._metadata,a)},addLog:function(a,b){l._logs[a]=b},getMetadata:function(){return l._metadata},_collectMetadata:function(){l.addMetadata({URI:(h||(h=b("URI"))).getRequestURI().toString(),UserAgent:navigator.userAgent,ScriptPaths:l.getPageHistory()});return l._metadata},collectBaseLogs:function(){l.addLog("browser_performance",this._getBrowserPerformanceLogs());var a={Env:JSON.stringify(i||(i=b("Env"))),errors:(j||(j=b("ErrorPubSub"))).history,ScriptPaths:l.getPageHistory(),ModuleDependencies:b("ModuleDependencies").getNotLoadedModules()};l.addLog("jslogger",a);b("LogHistory").getEntries().length>0&&l.addLog("Log History",b("LogHistory").formatEntries(b("LogHistory").getEntries()));b("ifRequired")("LSLogHistory",function(a){try{l.addLog("lightspeed_web",a.getEntries().join("\n"))}catch(a){l.addLog("lightspeed_web",{fetchError:a})}});try{l.addLog("messenger_state",b("MessagingBugReportStateUtils").getStateSnapshot())}catch(a){l.addLog("messenger_state",{fetchError:a})}if(b("cr:4058")!=null&&!c("gkx")("8671")){a="lsdb_state";try{l.addLog(a,b("cr:4058").getDatabaseSnapshot())}catch(b){l.addLog(a,{fetchError:b})}}if(b("cr:5904")!=null&&!c("gkx")("8671")){a="messenger_web_indexeddb_dump";try{l.addLog(a,b("cr:5904").getDatabaseSnapshot())}catch(b){l.addLog(a,{fetchError:b})}}try{l.addLog("rtweb_state",b("FBRTCBugReportStateUtils").getStateSnapshot())}catch(a){l.addLog("rtweb_state",{fetchError:a})}try{l.addLog("galahad_state",b("WorkGalahadBugReportStateUtils").getStateSnapshot())}catch(a){l.addLog("galahad_state",{fetchError:a})}try{l.addLog("comet_state",b("CometBugReportStateUtils").getStateSnapshot())}catch(a){l.addLog("comet_state",{fetchError:a})}try{l.addLog("shared_worker_state",b("SharedWorkerBugReportUtils").getSharedWorkerState())}catch(a){l.addLog("shared_worker_state",{fetchError:a})}try{l.addLog("video_player_config_state",b("VideoPlayerBugReportConfigStateUtils").getStateSnapshot())}catch(a){l.addLog("video_player_config_state",{fetchError:a})}try{b("ifRequired")("MercuryServerDispatcher",function(a){l.addLog("mercury_request_errors",a.getRequestErrors())})}catch(a){l.addLog("mercury_request_errors",a.toString())}},collectFullAsyncBaseLogs:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){l.collectBaseLogs();try{yield b("ifRequired")("MAWMainThreadLogger",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.getEntries());l.addLog("armadillo_web_log",a.formatEntries(b))});return function(b){return a.apply(this,arguments)}}(),b("asyncToGeneratorRuntime").asyncToGenerator(function*(){}))}catch(a){l.addLog("armadillo_web_log",[new Date().toISOString(),"error","LOGGER","Error formatting log: "+(a.toString()||"")].join(" | "))}try{var a=(yield b("CometBugReportStateUtils").getAsyncStateSnapshot());l.addLog("comet_state",a)}catch(a){l.addLog("comet_state",{fetchError:a})}});function c(){return a.apply(this,arguments)}return c}(),collectLogs:function(){l.collectBaseLogs();return n(l._logs)},collectFullAsyncLogs:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield l.collectFullAsyncBaseLogs();return n(l._logs)});function c(){return a.apply(this,arguments)}return c}(),_getBrowserPerformanceLogs:function(){if(!(k||(k=b("performance"))).getEntriesByType)return null;var a=(k||(k=b("performance"))).getEntriesByType("resource").slice(-500).map(function(a){return{decodedBodySize:a.decodedBodySize,duration:a.duration,encodedBodySize:a.encodedBodySize,entryType:a.entryType,fetchStart:a.fetchStart,initiatorType:a.initiatorType,name:a.name,redirectEnd:a.redirectEnd,redirectStart:a.redirectStart,responseEnd:a.responseEnd,responseStart:a.responseStart,responseStatus:a.responseStatus,startTime:a.startTime,transferSize:a.transferSize,workerStart:a.workerStart}});return JSON.stringify(a)},getPageHistory:function(){return[a._script_path]},reset:function(){l._logs={},l._metadata={}}});f.exports=l}),34);
__d("ScreenRecordingDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ExplicitRegistrationDispatcher"));b=new a({strict:!0});g["default"]=b}),98);
__d("ScreenRecordingActions",["ScreenRecordingDispatcher"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("ScreenRecordingDispatcher").dispatch({type:"clearScreenRecordings"})}function b(a,b){c("ScreenRecordingDispatcher").dispatch({type:"markScreenRecordingCapabilityAsUnavailable",previousScreenRecordingCapbility:b,reason:a})}function d(a){c("ScreenRecordingDispatcher").dispatch({type:"registerMediaStream",mediaStream:a})}function e(){c("ScreenRecordingDispatcher").dispatch({type:"releaseMediaStream"})}function f(){c("ScreenRecordingDispatcher").dispatch({type:"requestMediaStream"})}function h(a,b){c("ScreenRecordingDispatcher").dispatch({type:"setScreenRecordingRemoteHandle",remoteHandle:b,timestamp:a})}function i(a){c("ScreenRecordingDispatcher").dispatch({type:"uploadScreenRecording",recording:a})}g.clearScreenRecordings=a;g.markScreenRecordingCapabilityAsUnavailable=b;g.registerMediaStream=d;g.releaseMediaStream=e;g.requestMediaStream=f;g.setRemoteHandleForScreenRecording=h;g.uploadScreenRecording=i}),98);
__d("ServiceWorkerErrorUtils",["ClientServiceWorkerMessage","Promise","ServiceWorkerRegistration"],(function(a,b,c,d,e,f,g){function a(){if(!c("ServiceWorkerRegistration").isSupported())return b("Promise").reject("serviceWorker or messageChannel not supported");var a=!1;return new(b("Promise"))(function(b){new(c("ClientServiceWorkerMessage"))("errordump",null,function(c){a||(a=!0,b(c.data.data.history||[]))}).sendViaController()})}g.getHistory=a}),98);
__d("CheckpointEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:CheckpointEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:CheckpointEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:CheckpointEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionProdModeRegAttacks=function(a){this.$1.action_prod_mode_reg_attacks=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setActionTestModeRegAttacks=function(a){this.$1.action_test_mode_reg_attacks=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setAdminID=function(a){this.$1.admin_id=a;return this};c.setCheckpointedUserID=function(a){this.$1.checkpointed_userid=a;return this};c.setClearReason=function(a){this.$1.clear_reason=a;return this};c.setContext=function(a){this.$1.context=a;return this};c.setCurrentStep=function(a){this.$1.current_step=a;return this};c.setCurrentStepTitle=function(a){this.$1.current_step_title=a;return this};c.setDeletedContentID=function(a){this.$1.deleted_content_id=a;return this};c.setDeletedContentType=function(a){this.$1.deleted_content_type=a;return this};c.setEnrollmentExecutionID=function(a){this.$1.enrollment_execution_id=a;return this};c.setEnrollmentIPAddress=function(a){this.$1.enrollment_ip_address=a;return this};c.setEnrollmentReasonOverride=function(a){this.$1.enrollment_reason_override=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setExemptionReasons=function(a){this.$1.exemption_reasons=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setFlowID=function(a){this.$1.flow_id=a;return this};c.setHTTPFingerprint=function(a){this.$1.http_fingerprint=a;return this};c.setHTTPParamsFingerprint=function(a){this.$1.http_params_fingerprint=a;return this};c.setImageUploadError=function(a){this.$1.image_upload_error=a;return this};c.setInstanceDataID=function(a){this.$1.instance_data_id=a;return this};c.setIsBlockingFlow=function(a){this.$1.is_blocking_flow=a;return this};c.setIsChallengeSelectionRandomized=function(a){this.$1.is_challenge_selection_randomized=a;return this};c.setIsLoggedInFlow=function(a){this.$1.is_logged_in_flow=a;return this};c.setNewFlowID=function(a){this.$1.new_flow_id=a;return this};c.setPolicyChain=function(a){this.$1.policy_chain=a;return this};c.setPreviousStep=function(a){this.$1.previous_step=a;return this};c.setSelfieValidateError=function(a){this.$1.selfie_validate_error=a;return this};c.setSourceUserID=function(a){this.$1.source_userid=a;return this};c.setSrtJobID=function(a){this.$1.srt_job_id=a;return this};c.setSupportCaseID=function(a){this.$1.support_case_id=a;return this};c.setTcpFingerprint=function(a){this.$1.tcp_fingerprint=a;return this};c.setTicketID=function(a){this.$1.ticket_id=a;return this};c.setTimeSinceEmailVerified=function(a){this.$1.time_since_email_verified=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action_prod_mode_reg_attacks:!0,action_test_mode_reg_attacks:!0,admin_id:!0,checkpointed_userid:!0,clear_reason:!0,context:!0,current_step:!0,current_step_title:!0,deleted_content_id:!0,deleted_content_type:!0,enrollment_execution_id:!0,enrollment_ip_address:!0,enrollment_reason_override:!0,event:!0,exception:!0,exemption_reasons:!0,flow_id:!0,http_fingerprint:!0,http_params_fingerprint:!0,image_upload_error:!0,instance_data_id:!0,is_blocking_flow:!0,is_challenge_selection_randomized:!0,is_logged_in_flow:!0,new_flow_id:!0,policy_chain:!0,previous_step:!0,selfie_validate_error:!0,source_userid:!0,srt_job_id:!0,support_case_id:!0,tcp_fingerprint:!0,ticket_id:!0,time_since_email_verified:!0};f["default"]=a}),66);
__d("CheckpointProblemReporter",["BugBar","CheckpointEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.setStepId=function(a){this.$1=a;return this};b.setFlowId=function(a){this.$2=a;return this};b.open=function(){d("BugBar").addTaskTags(["117050055476015","145183575513894","1198435133590251"]),d("BugBar").addMetadata({checkpoint_step_id:this.$1,checkpoint_flow_id:this.$2}),new(c("CheckpointEventsTypedLogger"))().setFlowID(this.$2).setCurrentStep(this.$1).setEvent("bug_report_clicked").log(),d("BugBar").openBugDialog(a.ENDPOINT,!0)};return a}();a.ENDPOINT="/ajax/bugs/report";g["default"]=a}),98);
__d("CheckpointSelectorEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("EventEmitter"))();g["default"]=a}),98);
__d("CheckpointSlideAsyncAnimation",["CSS","DOM","EventListener","Style","ge","nullthrows"],(function(a,b,c,d,e,f,g){function a(a,b,e,f,g){var h=!1;if(e){var i=function(f){if(f.target&&f.target.id&&!h){h=!0;var i=c("nullthrows")(e).cloneNode(!0),a=c("ge")(f.target.id,b),k=a.innerText;c("Style").set(a,"min-width",c("Style").get(a,"width"));d("CSS").show(i);c("DOM").setContent(a,i);var l=g.addListener("reset",function(){l.remove(),c("DOM").setContent(a,k),h=!1})}};for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&c("EventListener").listen(a[j],"click",i)}f&&g.addListener("submit",function(){if(!h){h=!0;d("CSS").show(c("nullthrows")(f));var a=g.addListener("reset",function(){a.remove(),d("CSS").hide(c("nullthrows")(f)),h=!1})}})}g.init=a}),98);
__d("CheckpointSlideController",["cx","CSS","CheckpointProblemReporter","CheckpointSelectorEventEmitter","CheckpointSlideAsyncAnimation","EventEmitter","EventListener","nullthrows"],(function(a,b,c,d,e,f,g,h){var i=null;a=function(){function a(b,e,f,g,h,j,k,l,m){this.openProblemReporter=function(){new(c("CheckpointProblemReporter"))().setStepId(a.$1).setFlowId(a.$2).open()},i=this,this.$8=b,this.$7=e,this.$3=f,this.$4=g,this.$5=h,this.$6=j,this.$9=m,this.$11(),this.$10=this.$12(),d("CheckpointSlideAsyncAnimation").init(g,j,k,l,this.$10)}var b=a.prototype;b.submitButton=function(a){a=this.getButton(a);a&&a.click()};b.$12=function(){var a=this.$6,b=new(c("EventEmitter"))(),e,f,g;f=c("EventListener").listen(this.$6,"error",function(){d("CSS").removeClass(a,"_jru"),b.emit("reset")});g=c("EventListener").listen(this.$6,"success",function(){d("CSS").removeClass(a,"_jru"),f.remove(),g.remove(),e.remove(),b.emit("destroy")});e=c("EventListener").listen(this.$6,"submit",function(){d("CSS").addClass(a,"_jru"),b.emit("submit")});return b};b.$11=function(){var a=this;c("CheckpointSelectorEventEmitter").addListener("submit",function(b){if(b){b=a.getButton(b);if(b){b.click();for(b in a.$4)d("CSS").addClass(a.$4[b],"_42fr"),a.$4[b].disabled=!0}}});c("CheckpointSelectorEventEmitter").addListener("disable_button",function(b){if(b){b=a.getButton(b);b&&(d("CSS").addClass(b,"_42fr"),b.disabled=!0)}});c("CheckpointSelectorEventEmitter").addListener("enable_button",function(b){if(b){b=a.getButton(b);b&&(d("CSS").removeClass(b,"_42fr"),b.disabled=!1)}});this.tryAddProblemReportClickListener()};b.getRoot=function(){return this.$6};a.getInstance=function(){return c("nullthrows")(i,"Instance of CheckpointSlideController was null")};a.setStepAndFlowIds=function(b,c){a.$1=b,a.$2=c};b.getTitleBar=function(){return this.$8};b.getTitle=function(){return this.$7};b.getBottomBar=function(){return this.$3};b.getButton=function(a){return this.$4&&this.$4[a]?this.$4[a]:null};b.getFooter=function(){return this.$5};b.getErrorBox=function(){return this.$9};b.getEmitter=function(){return this.$10};b.setTitleText=function(a){var b=this.getTitle();b&&(b.innerText=a)};b.hideTitleBar=function(){this.getTitleBar()&&d("CSS").hide(this.getTitleBar())};b.showTitleBar=function(){this.getTitleBar()&&d("CSS").show(this.getTitleBar())};b.hideBottomBar=function(){var a=this.getBottomBar();a&&d("CSS").hide(a)};b.showBottomBar=function(){var a=this.getBottomBar();a&&d("CSS").show(a)};b.hideButton=function(a){a=this.getButton(a);a&&d("CSS").hide(a)};b.showButton=function(a){a=this.getButton(a);a&&d("CSS").show(a)};b.hideFooter=function(){this.getFooter()&&d("CSS").hide(this.getFooter())};b.showFooter=function(){this.getFooter()&&d("CSS").show(this.getFooter())};b.hideErrorBox=function(){var a=this.getErrorBox();a&&d("CSS").hide(a)};b.tryAddProblemReportClickListener=function(){var b=this.getFooter();if(!b)return;b=document.getElementById(a.REPORT_PROBLEM_BUTTON_ID);if(!b)return;b.addEventListener("click",this.openProblemReporter)};return a}();a.REPORT_PROBLEM_BUTTON_ID="checkpoint_step_problem_report_btn";g["default"]=a}),98);
__d("CsExperienceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2177");b=d("FalcoLoggerInternal").create("cs_experience",a);e=b;g["default"]=e}),98);
__d("CSExperienceLogger.react",["CsExperienceFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){c("CsExperienceFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{channel:"chat"})})}function a(a,b){h(babelHelpers["extends"]({},a,{exception_message_ui:b.message,stack_trace_ui:b.stack}))}g.log=h;g.logError=a}),98);
__d("LayerHideOnArbiterEvent",["Arbiter"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this._layer=a,this._arbiterEvent=b}var b=a.prototype;b.enable=function(){this._arbiterEvent&&(this._subscriptions=[this._layer.subscribe("show",this._attach.bind(this)),this._layer.subscribe("hide",this._detach.bind(this))],this._layer.isShown()&&this._attach())};b.disable=function(){this._detach();while(this._subscriptions&&this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};b._detach=function(){this._arbiter&&this._arbiter.unsubscribe(),this._arbiter=null};b._attach=function(){this._arbiter=c("Arbiter").subscribe(this._arbiterEvent,this._layer.hide.bind(this._layer))};return a}();g["default"]=a}),98);
__d("XUIDialogHideOnWizardShownEvent",["LayerHideOnArbiterEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b,"AuthenticityPlatform/wizardShown")||this}return b}(c("LayerHideOnArbiterEvent"));g["default"]=a}),98);
__d("XApprovedMachineCheckControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("login/approvals/approved_machine_check/index.html",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("AuthenticationPollingController",["AsyncRequest","XApprovedMachineCheckControllerRouteBuilder"],(function(a,b,c,d,e,f,g){var h={init:function(a,b){h.checkpoint_slide_js_controller=a,h.primaryButtonId=b,h.intervalLoop=window.setInterval(function(){return h._validateAuthenticate()},5e3)},_validateAuthenticate:function(){new(c("AsyncRequest"))(c("XApprovedMachineCheckControllerRouteBuilder").buildURL({})).setHandler(function(a){try{a.getPayload().is_approved===!0&&(h.checkpoint_slide_js_controller.submitButton(h.primaryButtonId),window.clearInterval(h.intervalLoop))}catch(a){}}).send()}};a=h;g["default"]=a}),98);
__d("TwoFactorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2631");b=d("FalcoLoggerInternal").create("two_factor",a);e=b;g["default"]=e}),98);
__d("TwoFactorLogger",["TwoFactorFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){c("TwoFactorFalcoEvent").log(function(){return{event:b,extra_data:{button:a},is_idr_option_shown:d,checkpointed_user_id:e}})}g.logEventForIDR=a}),98);
__d("XTwoFactorOnSMSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("two_factor/on_sms_check/index.html",{})}),null);
__d("LoginApprovalsCheckpointLandingPageController",["AsyncRequest","CSExperienceLogger.react","CSS","DOM","Event","TwoFactorLogger","XTwoFactorOnSMSController"],(function(a,b,c,d,e,f,g){var h=3e3;a={handleCantFindYourCode:function(a,c,e,f,g){b("Event").listen(a,"click",function(){b("TwoFactorLogger").logEventForIDR("having_trouble_button","button_clicked_in_2fa_flow",e,f),g&&d("CSExperienceLogger.react").log({entry_point_id:10,event:"entry_point_button_displayed",chat_additional_metadata:{checkpointed_user_id:f}}),c.show()})},handleResendCodeRegistration:function(a,c,d){var e=this.sendCode.bind(this),f=this.handleResendCodeResponse.bind(this);this.success_id=c;this.failure_id=d;b("Event").listen(a,"click",function(){e(f)})},handleResendCodeRegistrationPolling:function(a,c){this.success_id=a;this.failure_id=c;var d=this.handleOnResponse.bind(this),e=b("XTwoFactorOnSMSController").getURIBuilder().getURI();this.intervalID=window.setInterval(function(){new(b("AsyncRequest"))(e).setHandler(d).send()},h)},handleOnResponse:function(a){a.getPayload()!=="still_stopped"&&a.getPayload()!==!1&&(window.clearInterval(this.intervalID),a.getPayload()==="success"?b("CSS").show(this.success_id):b("CSS").show(this.failure_id))},handleCantFindYourCodeOptions:function(a,c,d,e,f,g,h,i,j,k,l){this.otherOptionsContent=g;this.callUserContent=h;this.sendCodeContent=i;this.lastSentCodeTime=j;var m=this.onlyShowOneContent.bind(this),n=this.sendCode.bind(this);b("Event").listen(a,"click",function(){b("TwoFactorLogger").logEventForIDR("other_options_drop_down_button","button_clicked_in_2fa_flow",k,l),b("CSS").toggle(g),b("CSS").toggle(f),b("CSS").toggle(e)});b("Event").listen(c,"click",function(){m(h),n()});b("Event").listen(d,"click",function(){m(i),n()})},handleCantFindYourCodeOptionsWithoutPhoneCall:function(a,c,d,e,f,g,h,i,j){this.otherOptionsContent=f;this.sendCodeContent=g;this.lastSentCodeTime=h;var k=this.onlyShowOneContent.bind(this),l=this.sendCode.bind(this);b("Event").listen(a,"click",function(){b("TwoFactorLogger").logEventForIDR("other_options_drop_down_button","button_clicked_in_2fa_flow",i,j),b("CSS").toggle(f),b("CSS").toggle(e),b("CSS").toggle(d)});b("Event").listen(c,"click",function(){k(g),l()})},handleCantFindYourCodeOptionsWithoutPhone:function(a,c,d,e,f,g){this.otherOptionsContent=e,b("Event").listen(a,"click",function(){b("TwoFactorLogger").logEventForIDR("other_options_drop_down_button","button_clicked_in_2fa_flow",f,g),b("CSS").toggle(e),b("CSS").toggle(d),b("CSS").toggle(c)})},handleTogglingSMSAndPhoneOptions:function(a,c,d,e,f,g,h){this.methodRequested=h;this.phoneCallText=a;this.phoneCallLink=c;this.SMSSentText=d;this.phoneCalledText=e;this.errorBox=f;this.xhpPlaceholder=g;var i=this.sendCode.bind(this);b("Event").listen(c,"click",function(){i()})},togglesSMSAndPhoneOptions:function(){this.methodRequested=="phone_requested"?b("DOM").setContent(this.xhpPlaceholder,this.phoneCalledText):this.nextRequestMethod=="phone_requested"?b("DOM").setContent(this.xhpPlaceholder,this.phoneCallText):b("DOM").setContent(this.xhpPlaceholder,this.SMSSentText),this.methodRequested=this.nextRequestMethod},clearEverything:function(){b("CSS").hide(this.sendCodeContent),b("DOM").empty(this.errorBox)},onlyShowOneContent:function(a){this.clearEverything(),b("CSS").show(a)},sendCode:function(a){a||(a=this.handleResponse.bind(this)),new(b("AsyncRequest"))("/ajax/login/approvals/send_sms").setData({method_requested:this.methodRequested,current_time:Date.now()/1e3}).setStatusElement("fbLoginApprovalsThrobber").setHandler(a).send()},updateContent:function(){b("DOM").empty(this.errorBox),b("DOM").setContent(this.errorBox,this.payload.top_content)},handleResponse:function(a){this.payload=a.getPayload(),this.lastCodeSentTime=this.payload.last_code_sent_time,this.nextRequestMethod=this.payload.next_request_method,this.payload.is_valid&&this.togglesSMSAndPhoneOptions(),this.updateContent()}};f.exports=a}),34);
__d("LoginApprovalsEnterCode",["$"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("$")(a);b instanceof HTMLElement&&window.setTimeout(function(){return b.focus()},300)}g.focusElementById=a}),98);
__d("CheckpointStepIconSwitcher",["CSS"],(function(a,b,c,d,e,f){var g=null,h=null;function i(a){g!=null&&(h!=null&&b("CSS").hide(g[h]),b("CSS").show(g[a])),h=a}e.exports={init:function(a){g=a.icons;var b=h;h=a.selected;b!=null&&i(b)},show:function(a){i(a)}}}),null);